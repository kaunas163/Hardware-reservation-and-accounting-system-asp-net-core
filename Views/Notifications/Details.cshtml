@using HardwareReservationAndAccountingSystem.Models;
@model Notification

@{
    ViewData["Title"] = "Pranešimo informacija";
}

@section PageHeaderTitle {
    <h2>Pranešimo informacija</h2>
}

@section PageHeaderSubNavLinks {
    <a href="@Url.Action("Index", "Notifications")" class="btn btn-dark"><i class="fas fa-bell"></i> Visi pranešimai</a>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exportModal"><i class="fas fa-download"></i> Eksportuoti</button>
    <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#archiveModal"><i class="fas fa-archive"></i> Archyvuoti</button>
    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#newNotificationModal"><i class="fas fa-pencil-alt"></i> Sukurti naują</button>
}

<div class="row align-items-start">
    <div class="col-md-8 col-sm-12 add-margin">
        <div class="row">
            <div class="col add-margin">
                <div class="content-block">
                    <div class="title">
                        <h3>@Model.Title</h3>
                    </div>
                    <div class="content">
                        @if (!string.IsNullOrWhiteSpace(Model.Description))
                        {
                            <p>@Model.Description</p>
                        }
                        else
                        {
                            <text>-</text>
                        }
                    </div>
                </div>
            </div>
        </div>
        @if (Model.ReservationId != null)
        {
            <div class="row">
                <div class="col add-margin">
                    <div class="content-block">
                        <div class="title">
                            <h3><a href="@Url.Action("Details", "Events")">Pranešimas susijęs su rezervacija: bla bla</a></h3>
                        </div>
                        <div class="content">
                            <p class="secondary-text">2019-10-05 10:00 - 2019-10-06 12:00</p>
                            <p>mini įrangos list</p>
                        </div>
                    </div>
                </div>
            </div>
        }
        @if (Model.EventId != null)
        {
            <div class="row">
                <div class="col add-margin">
                    <div class="content-block">
                        <div class="title">
                            <h3><a href="@Url.Action("Details", "Events")">Pranešimas susijęs su renginiu: bla bla</a></h3>
                        </div>
                        <div class="content">
                            <p class="secondary-text">2019-10-05 10:00 - 2019-10-06 12:00</p>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Hoc sic expositum dissimile est superiori.
                                Quis est tam dissimile homini. At, si voluptas esset bonum, desideraret. Quod autem ratione actum est,
                                id officium appellamus. Non igitur de improbo, sed de callido improbo quaerimus, qualis Q. Cur igitur,
                                inquam, res tam dissimiles eodem nomine appellas? Ne tum quidem te respicies et cogitabis sibi quemque
                                natum esse et suis voluptatibus? 
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        }
        @if (Model.EquipmentId != null)
        {
            <div class="row">
                <div class="col add-margin">
                    <div class="content-block">
                        <div class="title">
                            <h3><a href="@Url.Action("Details", "Equipments")">Pranešimas susijęs su įranga: bla bla</a></h3>
                        </div>
                        <div class="content">
                            <div class="row">
                                <div class="col-md-4">
                                    <p>
                                        <a href="@Url.Action("Details", "Equipments")">
                                            <img src="http://via.placeholder.com/500x300" class="img-fluid">
                                        </a>
                                    </p>
                                </div>
                                <div class="col-md-8">
                                    <p>
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Hoc sic expositum dissimile est superiori.
                                        Quis est tam dissimile homini. At, si voluptas esset bonum, desideraret. Quod autem ratione actum est,
                                        id officium appellamus. Non igitur de improbo, sed de callido improbo quaerimus, qualis Q. Cur igitur,
                                        inquam, res tam dissimiles eodem nomine appellas? Ne tum quidem te respicies et cogitabis sibi quemque
                                        natum esse et suis voluptatibus? 
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
        @if (Model.EquipmentBundleId != null)
        {
            <div class="row">
                <div class="col add-margin">
                    <div class="content-block">
                        <div class="title">
                            <h3><a href="@Url.Action("Details", "EquipmentBundles", new { id = Model.EquipmentBundle.Id })">Pranešimas susijęs su įrangos komplektu: @Model.EquipmentBundle.Title</a></h3>
                        </div>
                        @if (!string.IsNullOrWhiteSpace(Model.EquipmentBundle.Description))
                        {
                            <div class="content">
                                <p>
                                    @if (Model.EquipmentBundle.Description.Length > 300)
                                    {
                                        @Model.EquipmentBundle.Description.Substring(0, 300)
                                        <text>...</text>
                                    }
                                    else
                                    {
                                        @Model.EquipmentBundle.Description
                                    }
                                </p>
                            </div>
                        }
                    </div>
                </div>
            </div>
        }
    </div>
    <div class="col-md-4 col-sm-12 add-margin">
        <div class="row">
            <div class="col add-margin">
                <div class="content-block">
                    <div class="title">
                        <h3>Pagrindinė informacija</h3>
                    </div>
                    <div class="content base-info">
                        <div class="row">
                            <div class="col-6"><p>Pranešimas sukurtas:</p></div>
                            <div class="col-6"><p>@Model.CreatedOn</p></div>
                        </div>
                        <div class="row">
                            <div class="col-6"><p>Pranešimą sukūrė:</p></div>
                            <div class="col-6"><p>@Html.ActionLink("Administratorius", "Details", "Users")</p></div>
                        </div>
                        <div class="row">
                            <div class="col-6"><p>Pranešimo būsena:</p></div>
                            <div class="col-6"><p>Naujas pranešimas</p></div>
                        </div>
                        <div class="row">
                            <div class="col-6"><p>Pranešimo tipas:</p></div>
                            <div class="col-6"><p>@Model.NotificationType.Title</p></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col add-margin">
                <div class="content-block">
                    <div class="title">
                        <h3>Pranešimą jau perskaitė</h3>
                    </div>
                    <div class="content">
                        <p>
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users")
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col add-margin">
                <div class="content-block">
                    <div class="title">
                        <h3>Pranešimo dar neskaitė</h3>
                    </div>
                    <div class="content">
                        <p>
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users"),
                            @Html.ActionLink("vartotojas", "Details", "Users")
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@await Html.PartialAsync("~/Views/Notifications/_ModalExport.cshtml")
@await Html.PartialAsync("~/Views/Notifications/_ModalArchive.cshtml")
@await Html.PartialAsync("~/Views/Notifications/_ModalNew.cshtml")
